$Id: TODO,v 1.52 2006-02-16 10:30:16 joostvb Exp $

--- typesetting stuff ---

- get toc printed in html mode. even while using nochunks mode.

- license should be printed, see rh vs deb doc.

- add zoem.mk, for zoem ( http://micans.org/zoem ) typesetting.

--- install stuff ---

- finish support for sudo.  Document this: Adding support for sudo via sucp
  allows for "PermitRootLogin no" in /etc/ssh/sshd_config .  Document this:
  sucp won't prevent the given password from being echoed.  Write manpage for
  new script: csp_sucp.

  Fix \sec{variables} in caspar.azm.
  Test all examples as given in manpage.  Fix manpage.  Finish NEWS.


- Implement csp_scp (e.g. as make function): "csp_scp file [user@]host dir".
  Example of make function:

    #                  file foo@bar dir/
    csp_csp = $(csp_SCP) $(1) $(2):$(3)
    #
    # now one can write:
    #  $(call csp_csp,file,$(uh),$(csp_DIR))

  We'd have to adjust all our RULES.  We'd have to drop support for
  csp_SUHDIRS.

- Don't do
   csp_scp_FUNC  = $(csp_SCP) $(csp_CPFLAGS) $(1) $(2):$(3)
  but do
   csp_scp_FUNC  = $(csp_SCP) $(4) $(1) $(2):$(3)
  and use $(csp_CPFLAGS) for csp_XARGS.

- this whole thing could probably better use rsync, or, alternatively, perhaps
  all caspar functionality could be incorporated in cfengine.  See caspar(7).

- add support for rsync, install(1).

- Some day we might want to implement "csp_cp file dummy dir".

- Document and finish csp_PUSH-plugin architecture.  plugins can use
  csp_<plugin>_someextravar if needed.

- The function $(subst -install,,$@) in caspar.mk breaks when filename itself
  has the substring -install.  We might have to use sed here, and strip only
  a _trailing_ '-install' from the maketarget.

- load stuff:
  - Add a better hook for the -load target: more generic please.
  - Create a ``load-recursive'' target.
  - supply daemons.mk: csp_SSHDEBIANLOAD csp_URUKREDHATLOAD , etc, to use
    in load targets

- install-recursive should call mkdir if appropriate

- The scp invocation is inefficient:

   % make -n README.txt-install net.txt-install
   scp "README.txt" pong:/data/www/doc/doc/;
   scp "net.txt" pong:/data/www/doc/doc/;

  Should be:

   scp "README.txt" "net.txt" pong:/data/www/doc/doc/;

  $@ vs $? might be helpful.

- Implement csp_SUHS_SUBSET: only deal with this subset of csp_SUHS.  If SUHS
  in csp_SUHS_SUBSET is no subset of csp_SUHS, skip it.  Requested by Wessel
  Dankers (and the author).  It'll work nice in cases where you have lots of
  subdirectories holding information for lots of groups of hosts when you want
  to install just for a small group (or 1) hosts.

