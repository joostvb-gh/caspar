$Id: TODO,v 1.46 2006-01-29 20:07:33 joostvb Exp $

--- typesetting stuff ---

- get toc printed in html mode. even while using nochunks mode.

- license should be printed, see rh vs deb doc.

- add zoem.mk, for zoem ( http://micans.org/zoem ) typesetting.

--- install stuff ---

- this whole thing could probably better use rsync, or, alternatively, perhaps
  all caspar functionality could be incorporated in cfengine.  See caspar(7).

- finish support for sudo, rsync, install(1).  Find out why sucp always asks for
  a password.  Doesn't sudo keep this validate-thingie when our TTY is
  "unknown"?  Does the -T ssh option fix this?  Document this: Adding support
  for sudo via sucp allows for
  "PermitRootLogin no" in /etc/ssh/sshd_config .  Document this: sucp won't
  prevent the given password from being echoed.  Document new variables
  csp_DIR, csp_PUSH, csp_UHOSTS, new script: csp_sucp.
  Make csp_sucp honor optional fourth arg CSP_SUDOUSER (defaults to root if
  unset).

  OK, guess this will be the new UI:

  New variables: csp_PUSH (default: csp_scp make function), csp_UHOST,
  csp_UHOSTS, csp_DIR; csp_scp_UHOST, csp_scp_UHOSTS, csp_scp_DIR,
  csp_sucp_UHOST, csp_sucp_DIR.  csp_cp_UHOST is silently ignored.

    csp_cp file dummy dir  (yuk!)
    csp_scp file [user@]host dir
    csp_sucp file [user@]host dir [su-user]

  plugins can use csp_<plugin>_someextravar if needed.

  1) implement csp_DIR, csp_PUSH, csp_UHOST
  2) do other stuff without breaking backwards compatibility
  3) ...

- The function $(subst -install,,$@) in caspar.mk breaks when filename itself
  has the substring -install.  We might have to use sed here, and strip only
  a _trailing_ '-install' from the maketarget.

- load stuff:
  - Add a better hook for the -load target: more generic please.
  - Create a ``load-recursive'' target.
  - supply daemons.mk: csp_SSHDEBIANLOAD csp_URUKREDHATLOAD , etc, to use
    in load targets

- install-recursive should call mkdir if appropriate

- The scp invocation is inefficient:

   % make -n README.txt-install net.txt-install
   scp "README.txt" pong:/data/www/doc/doc/;
   scp "net.txt" pong:/data/www/doc/doc/;

  Should be:

   scp "README.txt" "net.txt" pong:/data/www/doc/doc/;

  $@ vs $? might be helpful.

- Implement csp_SUHS_SUBSET: only deal with this subset of csp_SUHS.  If SUHS
  in csp_SUHS_SUBSET is no subset of csp_SUHS, skip it.  Requested by Wessel
  Dankers (and the author).  It'll work nice in cases where you have lots of
  subdirectories holding information for lots of groups of hosts when you want
  to install just for a small group (or 1) hosts.



