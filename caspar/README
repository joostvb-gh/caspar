$Id: README,v 1.13 2003-08-09 13:04:45 joostvb Exp $

caspar - Makefile snippets for common tasks

See doc/caspar.txt for general information about this package, see INSTALL
for generic installation instructions.

After install, /usr/local/share/doc/caspar will be created and filled, a file
/usr/local/share/caspar/mk/caspar.mk will get installed, and a symlink
/usr/local/include/caspar/mk/caspar.mk will get created.


- requirements, packages  - - - - - - - - - - - - - - - - - - - - - - - - -

GNU make.

For the typesetting functionality, one needs Jade, LaTeX, W3M, Ghostscript, and
Docbook DSSSL.

A Debian caspar package (for e.g. Debian GNU/Linux) is available from `deb
http://mdcc.cx/debian local contrib'.


- gimme some of the stuff you've been smoking!  - - - - - - - - - - - - - - - -

"What've you been smoking!?  A completely fullblown autoconfiscated tarball for
just a eeny weeny Makefile snippet, to be able to install my hosts
configuration files from CVS!?  I'm not gonna install that!  No way!"

Well, there's no accounting for taste...  If I use the same files on many
hosts, I prefer to install them from a tarball.  If you were asked to work with
a caspar-ized CVS tree, you can work around installing the tarball by doing
something like this:

 cd ~/cvs/kingkong/include

kingkong is a CVS module, holding files which should get installed on host
kingkong.

Create a file install.mk there, which looks like

 SUH = admin@kingkong.example.org
 include caspar/mk/caspar.mk

Now, do

 echo caspar >> .cvsignore
 mkdir -p caspar/mk

and copy caspar.mk to the just created directory caspar/mk/ .


- some thoughts - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

The default GNU make include path is .:PREFIX/include:/usr/gnu/include:
/usr/local/include:/usr/include .  See make.info, node `Include'.  FHS however
says: '/usr/include [...] is where all of the system's general-use include
files for the C and C++ programming languages should be placed.'  This makes
GNU make somewhat incompatible with the FHS :( .  GNU make could better use
something like '/usr/share/mk' in its default include path.

We work around this by creating the following symlink when being 'make
install'-ed:

 /usr/local/include/caspar/mk/caspar.mk ->
                                    /usr/local/share/caspar/mk/caspar.mk

.

This enables us to be able to call

 include caspar/mk/caspar.mk

from a Makefile.


