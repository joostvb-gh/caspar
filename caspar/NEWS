Refer to ChangeLog for detailed per-file info.

caspar version 20090926

- Unstable bleeding edge snapshot release.
- Added (not yet documented) new scripts csp_install and csp_scp_keep_mode,
  allowing for more robust installs.
- setversion: allow for user override of version of caspar release.
- TODO: updated


caspar version 20090406

- BEWARE! Backwards INcompatible change in user interface!  mk/caspar.mk does
  no longer supply backward compatibility with caspar <= 20060216: Support for
  csp_SUH, csp_SUHS, csp_SUHDIRS and csp_SCPDIR is dropped.  If you use
  old-style Makefiles, you'll have to fix these now:

   for csp_SUHS   now use csp_UHOSTS
   for csp_SUH    now use csp_UHOST
   for csp_SCPDIR now use csp_DIR

  (There is no replacement variable for csp_SUHDIRS; csp_CPDIRS for now is
  still supported.) See the 20060216 NEWS item for more details.  A crude way
  to update your Makefiles would be to run something along the lines of:

   % find . -name Makefile -o -name install.mk | while read f; do
      sed -i 's/csp_SUHS/csp_UHOSTS/g; s/csp_SUH/csp_UHOST/g;
       s/csp_SCPDIR/csp_DIR/g' $f;
     done

  This kinda worked for me.  YMMV.  (Please mail the author if you need help
  converting your Makefiles and you've explicitly used the variable
  csp_SUHDIRS.)

  (No other incompatible change will get introduced during the Debian "squeeze"
  nor during the "squeeze + 1" release cycle: caspar in squeeze + 1 will be
  backwards compatible with this caspar version.  History of incompatible
  changes and Debian GNU/Linux releases:

   Debian release            caspar version        incompatible?
   --------------            --------------        -------------
   woody   (oldoldoldstable) none                  -
   sarge   (oldoldstable)    20050302-1            YES
   etch    (oldstable)       20060618-1            -
   lenny   (stable)          20070729-1            -
   squeeze (testing)         > 20070729-1          YES

  [1] caspar version 20040721-1 was the first one uploaded to the Debian
  archives.)

- Added preliminary support for "make diff" and "make <filename>-diff": this
  shows the diff between filename in current directory and filename at remote
  location.  One can use this to test wether the file on the server is in
  sync with (e.g.) a previous SVN version before scp-ing it.  This prevents
  overwrites of "illegal" (i.e. without having used SVN (but possibly useful))
  edits directly on the remote server.  New variables introduced:

   csp_DIFFXARG (default: -u)
   csp_DIFF (default: csp_diff_FUNC; overwrite this if you want to tweak the
              way the diff is computed)

  as well as csp_SSH, csp_CAT, csp_Diff and csp_diff_FUNC.  For now, this
  feature works out of the box in case csp_PUSH is $(csp_scp_FUNC) (the
  default scp-based install mechanism) and in case csp_PUSH is
  $(csp_sucp_FUNC).  If you use cp(1) to install, and have set csp_PUSH to
  $(csp_cp_FUNC), for now do set

   csp_DIFF = $(csp_Diff) $(4) $(3)/$(1) $(1)

  to get this feature working.  Very likely, this will no longer be needed in
  the feature: out of the box support for all push mechanisms is planned.
  Thanks Fred Vos and Jeroen Hoppenbrouwers for joining the discussion about
  this feature.

- Added preliminary support for using rsync(1) as push mechanism.  Use it by
  setting

   csp_PUSH = $(csp_rsync_FUNC)

  Use csp_rsyncssh_FUNC instead of csp_rsync_FUNC if you don't want to use
  the rsync daemon, but ssh (or rsh).  Other new variables introduced:

   csp_RSYNC      (default: rsync),
   csp_RSYNCFLAGS (default: -zPt --chmod=ugo=rwX).

  Thanks Ko van der Sloot for suggesting this feature.

- Caspar is now licensed under the GNU GPL version 3 or later (no longer v2 or
  later).

- Various improvements in caspar(7) manpage.  E.g. example added about
  using sudo without ssh.

- Bugfix in sgml/print.dsl as used by docbook.mk.  The error
  `jade:/usr/share/sgml/caspar/print.dsl:126:24:E: element "SYSTEMITEM"
  undefined' will no longer show up.

- Bugfix in caspar.mk: deal sane with files named like
  "debian-lenny-install.txt": files which had "-install" in their name
  never got installed.

- Now uses automake 1.10 for building (was 1.9).


caspar version 20070729

- Caspar now supports a smart way for temporary overrides of csp_UHOSTS, using
  csp_UHOSTS_SUBSET. (Actually, this was implemented in release 20070713).
- Improvements in caspar(7) manpage: documented csp_BUILD, improved csp_LOAD
  examples, added example on how to add a "check" target.


caspar version 20070713

- Fix bug in csp_sucp(1) when using fourth argument (e.g. via CSP_XARG).
  This bug caused sudo to die with error "sudo: the `-u' and '-v' options may
  not be used together".
- Minor improvements in caspar(7) manpage.
- TODO: recorded lots of new ideas for improvements, thanks to caspar user
  community at UvT.


caspar version 20060618

- Various improvements in caspar(7) manpage.


caspar version 20060610

- The variables csp_scp_DIR, csp_scp_UHOSTS, csp_scp_UHOST and csp_cp_DIR,
  which were introduced in snapshot version 20060216, are no longer supported.
  These variable were redundant.  (Very likely, you'll need csp_UHOST[S],
  csp_DIR, and maybe csp_PUSH and csp_LOAD only.)


caspar version 20060608

- Unstable bleeding edge snapshot release.
- Fixed section of csp_sucp(1) manpage.
- Minor bugfixes in caspar.mk.
- Various improvements in caspar(7) manpage.


caspar version 20060531

- Yet another unstable bleeding edge snapshot release.
- Typo in caspar.mk which lead to "invalid syntax in conditional" error is
  fixed.
- Added csp_sucp(1) manpage.  This script now gets installed.
- Minor improvements on other manpages.


caspar version 20060216

- Beware! This is an unstable bleeding edge snapshot release.  Test results
  are welcomed.

- caspar.mk now has support for installing files using sudo, wrapped in ssh:
  it runs something like

   ssh foo@bar "sudo sh -c \"cat - > /duh/blah\"" < blah

  .  To facilitate this, new variables have been introduced: csp_PUSH (default:
  a csp_scp make function), csp_SUCP, csp_UHOST, csp_UHOSTS, csp_DIR, csp_XARG.

  A script csp_sucp, dealing with the wrapping, is now shipped; it honors a
  CSP_SUCP_USER environment variable.

  Lots of variables are now deprecated:

   for csp_SUHS   now use csp_UHOSTS
   for csp_SUH    now use csp_UHOST
   for csp_SCPDIR now use csp_DIR

  The variable csp_CPDIRS will be phased out: no more multiple cp target dirs.
  Don't worry yet: we still supply full backwards compatibity.

- mk/caspar.mk: install and load now are .PHONY targets, as they should be.
  You'll like this if you have files named "install" or "load".  Thanks Guus
  Sliepen.


caspar version 20050424

- (This release was shipped with Debian.  We'll try to remain compatibility.)
- New variable csp_EXTRAFILES added.  This enables one to succesfully run e.g.

    make .bashrc-install

  .  Aren't you all happy now?  Thanks Guus Sliepen for the patch.
- In order to have csp_EXTRAFILES behave nice, .%.swp is added to
  csp_TABOOFILES_DEFAULT and .svn is added to csp_TABOODIRS_DEFAULT.


caspar version 20050302

- (This release was shipped with Debian.  We'll try to remain compatibility.)
- Fixed caspar(7) manpage: the last part was not typesetted.  Duh.


caspar version 20050301

- BEWARE!  BACKWARDS INCOMPATIBILITY!  mk/caspar.mk does no longer supply backward
  compatibility with caspar <= 20030825.  If you use old-style Makefiles, you'll
  have to fix these now.  See the 20040531 NEWS item for details.

  A crude way to update your Makefiles would be to run something along the lines
  of:

   % find . -name Makefile | while read f; \
       do sed -i 's/SDIR/csp_SCPDIR/g; s/(SUH)/(csp_SUH)/g; \
                  s/^LOAD /csp_LOAD /; s/(SUHS)/(csp_SUHS)/g; \
                  s/^SUH /csp_SUH /; s/^SUHS /csp_SUHS /' $f; done
   % find . -name install.mk | while read f; \
       do sed -i 's/^SRDIRS /csp_SUHDIRS /g' $f; done

  This kinda worked for me.  YMMV.
- New variables csp_TABOO{DIRS,FILES}_{ADD,SKIP} in caspar.mk.  See caspar(7).


caspar version 20040721

- This release is planned to get shipped with Debian: it will be available
  from the Debian archive.
- No functional changes, just some minor documentation updates and tweaks of
  the build system (interesting only for people building a tarball from CVS).


caspar version 20040531

- The caspar CVS is moved to http://alioth.debian.org/.  Thanks to the Alioth
  admins!
- Experimental install-recursive target added.  If you'd like to play with it,
  you won't need to adjust your Makefile's.  Just type `make install-recursive'
  and decide wether you like this feature.
- BEWARE! Change in user interface!  caspar.mk variables have been renamed:

   new name     old name
   ========     ========

   csp_CP       CP
   csp_CPFLAGS  CPFLAGS
   csp_CPDIR    CDIR
   csp_CPDIRS   CPDIRS
   csp_LOAD     LOAD
   csp_SCP      SCP
   csp_SCPFLAGS SCPFLAGS
   csp_SCPDIR   SDIR
   csp_SUH      SUH
   csp_SUHS     SUHS
   csp_SUHDIRS  SRDIRS

  This is done to make sure no unexpected name clashes occur.

  For now, we offer a backward compatibility hack: your old Makefile's will
  continue to work.  However, you're advised to switch to the new user
  interface a.s.a.p.


caspar version 20030825

- CPFLAGS and SCPFLAGS added to caspar.mk.  See caspar(7), as well as the
  caspar.mk file itself.


caspar version 20030809

- Added manpages caspar(7) and caspar-typesetting(7).  Installed in
  /usr[/local]/share/doc/caspar too, in various formats.


caspar version 20030803

- See doc/ChangeLog.2002 for news about caspar 20030803 and earlier

# $Id: NEWS,v 1.47 2009-09-26 02:06:25 joostvb Exp $
